<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <link rel="stylesheet" href="../../lib/bootstrap/css/bootstrap.min.css"
          th:href="@{/lib/bootstrap/css/bootstrap.min.css}"/>
    <link rel="stylesheet" href="../../lib/bootstrap/css/bootstrap-theme.min.css"
          th:href="@{/lib/bootstrap/css/bootstrap.min.css}"/>
    <link rel="stylesheet" href="../../css/core.css}" th:href="@{/css/core.css}"/>
    <script src="../../lib/jquery/jquery.js" th:src="@{/lib/jquery/jquery.js}"></script>
    <script src="../../lib/bootstrap/js/bootstrap.min.js" th:src="@{/lib/bootstrap/js/bootstrap.min.js}"></script>
    <title>Manager</title>
</head>
<body>
<div th:replace="fragments/header :: header"></div>
<div class="container">
    <h1>Statistics</h1>

    <h3>Claims per faculty</h3>
    <table border="1">
        <tr>
            <th>Faculty</th>
            <th>Claims</th>
        </tr>
        <tr th:each="map : ${claimsPerFaculty}">
            <td th:text="${map.key.title}"></td>

            <td>
                <b style="color: blue;" th:text="${map.value.size() + ' claims'}"></b>
                <div th:if="${map.value.size() > 0}">
                    <table border="1">
                        <tr>
                            <th>Evident</th>
                            <th>Content</th>
                            <th>Status</th>
                            <th>Dateline</th>
                            <th>Overdue</th>
                        </tr>
                        <tr th:each="claim : ${map.value}">
                            <td th:text="${claim.evidence}"></td>
                            <td th:text="${claim.content}"></td>
                            <td th:text="${claim.status}"></td>
                            <td th:text="${claim.closedDate}"></td>
                            <td th:text="${claim.isMissClosedDate() ? 'yes' : 'no'}"></td>
                        </tr>
                    </table>
                </div>

            </td>
        </tr>
    </table>


    <h3>Claims per year</h3>
    <table border="1">
        <tr>
            <th>Year</th>
            <th>Claims</th>
        </tr>
        <tr th:each="map : ${claimsPerYear}">
            <td th:text="${map.key}"></td>

            <td>
                <b style="color: blue;" th:text="${map.value.size() + ' claims'}"></b>
                <div th:if="${map.value.size() > 0}">
                    <table border="1">
                        <tr>

                            <th>Evident</th>
                            <th>Content</th>
                            <th>Status</th>
                            <th>Dateline</th>
                            <th>Overdue</th>
                        </tr>
                        <tr th:each="claim : ${map.value}">
                            <td th:text="${claim.evidence}"></td>
                            <td th:text="${claim.content}"></td>
                            <td th:text="${claim.status}"></td>
                            <td th:text="${claim.closedDate}"></td>
                            <td th:text="${claim.isMissClosedDate() ? 'yes' : 'no'}"></td>
                        </tr>
                    </table>
                </div>

            </td>
        </tr>
    </table>
</div>
</body>
</html>